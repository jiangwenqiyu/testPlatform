<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>table拖拽</title>
    <style>
        tr {
            cursor: pointer;
        }

        td {
            padding: 5px 10px;
        }
    </style>
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="../js/jq_ui/jquery-ui.js"></script>
    <script src="../js/jquery.jsonview.js"></script>

</head>

<body>

<div class="col-lg-6">
    <section class="panel" style="height:600px">
        <header class="panel-heading">
            JSON数据
        </header>
        <div class="panel-body" style="height:580px;overflow:auto">
            <input name="json_data" id="json_data" value='{"123":"456"}'/>
            <button id="collapse-btn">折叠</button>
            <button id="expand-btn">展开</button>
            <button id="save-btn" onclick="showJson();">保存</button>
            <div id="json"></div>
        </div>
    </section>
</div>


<script type="text/javascript">
    function showJson() {
        j = $("#json_data").val();
        j = JSON.parse(JSON.stringify(j));
        console.log(j)

        jj = JSON.parse(j);
        $("#json").JSONView(jj);
    }



    // var raw_json = $("#json_data").val();
    // var json = JSON.parse(raw_json);
    // $(function() {
    //     $("#json").JSONView(json);
    //
    //     $("#json-collapsed").JSONView(json, {collapsed: true, nl2br: true});
    //
    //     $('#collapse-btn').on('click', function() {
    //         $('#json').JSONView('collapse');
    //     });
    //
    //     $('#expand-btn').on('click', function() {
    //         $('#json').JSONView('expand');
    //     });
    // });
</script>













</body>

</html>
